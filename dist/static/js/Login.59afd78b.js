(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Login"],{"04fd":function(e,t,n){"use strict";n("339c")},"12d1":function(e,t,n){},"1ca0":function(e,t,n){"use strict";n("e9db")},"339c":function(e,t,n){},"75df":function(e,t,n){"use strict";n("904b")},"904b":function(e,t,n){},"9ed6":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"ml-login-mainInner"},[n("HeaderBar",{attrs:{title:"登录注册页",back:!0}}),n("section",{staticClass:"ml-form-phone"},[n("InputPhone"),n("VerificationCode")],1),n("section",{staticClass:"ml-open-metion",class:{active:e.submitOnOff},on:{click:function(t){return t.stopPropagation(),e.loginFunc(t)}}},[e._v("登录")]),e._m(0)],1)},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"ml-authorization"},[n("section",{staticClass:"userAgreement"},[e._v("登录表示您同意 "),n("em",[e._v("《用户协议》")]),e._v("及"),n("em",[e._v("《隐私协议》")])])])}],o=(n("c12e"),n("b66b"),n("6a61"),n("2e91")),c=n("d211"),r=n("ce0e"),s=n("49c9"),u=n("8fec"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"ml-inputPhone"},[e._m(0),n("figure",{staticClass:"ml-input-bar"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneNum,expression:"phoneNum"}],staticClass:"ml-input-item",attrs:{type:"text",placeholder:"请输入您的手机号"},domProps:{value:e.phoneNum},on:{input:function(t){t.target.composing||(e.phoneNum=t.target.value)}}})])])},d=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ml-num-sign"},[n("i",{staticClass:"sign-num"},[e._v("+86")]),n("em",{staticClass:"icon"})])}],m=n("cf6b"),f={data:function(){return{phoneNum:""}},methods:Object(c["a"])({},Object(m["b"])(["setPhoneNum"])),watch:{phoneNum:function(e){var t=this;t.setPhoneNum(e)}}},p=f,h=(n("04fd"),n("5d22")),g=Object(h["a"])(p,l,d,!1,null,"0f8f2256",null),v=g.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"ml-code-module"},[n("section",{staticClass:"ml-verification-code"},[n("figure",{staticClass:"ml-input-bar"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],staticClass:"ml-input-item",attrs:{type:"text",placeholder:"请输入您的验证码"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}})]),n("div",{staticClass:"ml-code-time",domProps:{textContent:e._s(e.codeDes)},on:{click:function(t){return t.stopPropagation(),e.getCode(t)}}})]),e.residueNum>0?n("div",{staticClass:"ml-residue-num",domProps:{textContent:e._s(e.residueNumDes)}}):e._e()])},O=[],C=n("90fe"),N=n("dfdd"),j={computed:Object(c["a"])(Object(c["a"])({},Object(m["c"])(["onCoding","phoneNum","residueNum"])),{},{codeDes:function(){var e=this;return e.onCoding?e.time+"秒":"获取验证码"},residueNumDes:function(){var e=this;return parseInt(e.residueNum,10)?"今日还剩"+e.residueNum+"次":"今日获取验证码次数已用完"}}),watch:{onCoding:function(e){var t=this;if(e)var n=setInterval((function(){t.time>0?t.time--:clearInterval(n)}),1e3)},code:function(e){var t=this;t.changeCodeNum(e)},time:function(e){var t=this;0===parseInt(e,10)&&(t.changeCodeState(!1),t.time=60)}},methods:Object(c["a"])(Object(c["a"])({},Object(m["b"])(["changeCodeState","changeResidueNum","changeCodeNum"])),{},{getCode:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e,Object(C["e"])(n.phoneNum)||!Object(N["b"])(n.phoneNum)){t.next=17;break}return n.changeCodeState(!0),t.prev=3,a={codeType:1,mobile:n.phoneNum},t.next=7,Object(s["I"])(a);case 7:i=t.sent,i&&(console.log(parseInt(i,10),!isNaN(parseInt(i,10))),isNaN(parseInt(i))||n.changeResidueNum(i),console.log(i)),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](3),n.changeResidueNum(0),n.Toast(t.t0.msg||"获取验证码失败");case 15:t.next=18;break;case 17:Object(C["e"])(n.phoneNum)?n.Toast("请输入正确的手机号"):n.Toast("请输入您的手机号");case 18:case"end":return t.stop()}}),t,null,[[3,11]])})))()}}),data:function(){return{time:60,code:""}}},w=j,x=(n("1ca0"),Object(h["a"])(w,b,O,!1,null,"1c270bd6",null)),k=x.exports,_={components:{InputPhone:v,HeaderBar:r["a"],VerificationCode:k},data:function(){var e=this,t=e.$route.query.redirect||"";return console.log(t),{redirectPath:t}},beforeMount:function(){},computed:Object(c["a"])(Object(c["a"])({},Object(m["c"])(["codeNum","phoneNum"])),{},{submitOnOff:function(){var e=this;return!Object(C["e"])(e.phoneNum)&&Object(N["b"])(e.phoneNum)&&!Object(C["e"])(e.codeNum)}}),methods:Object(c["a"])(Object(c["a"])({},Object(m["b"])(["saveToken"])),{},{reBack:function(){window.history.back()},loginFunc:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e,t.prev=1,a={username:n.phoneNum,validCode:n.codeNum},t.next=5,Object(s["K"])(a);case 5:i=t.sent,i.accessToken&&(Object(u["setHttpAuth"])(i.accessToken),n.saveToken(i.accessToken),console.log(n.redirectPath||"/"),location.replace(location.origin+n.redirectPath)),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),n.Toast(t.t0.message||"登录失败");case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()}}),watch:{}},P=_,T=(n("ddac"),Object(h["a"])(P,a,i,!1,null,null,null));t["default"]=T.exports},ce0e:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"jd-header"},[n("span",{staticClass:"jd-header-item return-back",class:{show:e.back},on:{click:function(t){return t.stopPropagation(),e.returnBack(t)}}},[n("i")]),n("span",{staticClass:"jd-header-item",domProps:{textContent:e._s(e.title)}}),n("span",{staticClass:"jd-header-item",domProps:{textContent:e._s(e.subTitle)},on:{click:function(t){return t.stopPropagation(),e.subTitleEvent(t)}}})])},i=[],o=(n("cc16"),{props:{title:{default:function(){return""},type:String},back:{default:function(){return!1},type:Boolean},subTitle:{default:function(){return""},type:String}},methods:{returnBack:function(){var e=this;navigator.userAgent.indexOf("MSIE")>=0&&navigator.userAgent.indexOf("Opera")<0?history.length>0?(e.$emit("returnOriginal"),window.history.go(-1)):window.location.href="/home":navigator.userAgent.indexOf("Firefox")>=0||navigator.userAgent.indexOf("Opera")>=0||navigator.userAgent.indexOf("Safari")>=0||navigator.userAgent.indexOf("Chrome")>=0||navigator.userAgent.indexOf("WebKit")>=0?window.history.length>1?(e.$emit("returnOriginal"),window.history.go(-1)):window.location.href="/home":(e.$emit("returnOriginal"),window.history.go(-1))},subTitleEvent:function(){var e=this;e.$emit("handleEvent")}}}),c=o,r=(n("75df"),n("5d22")),s=Object(r["a"])(c,a,i,!1,null,"ca1424d4",null);t["a"]=s.exports},ddac:function(e,t,n){"use strict";n("12d1")},e9db:function(e,t,n){}}]);
//# sourceMappingURL=Login.59afd78b.js.map