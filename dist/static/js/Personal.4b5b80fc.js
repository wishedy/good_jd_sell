(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Personal"],{"00c5":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"set_item",on:{click:function(e){return e.stopPropagation(),t.routerTo(e)}}},[s("div",{staticClass:"label"},[s("i",{staticClass:"icon"}),s("span",{staticClass:"set_title",domProps:{textContent:t._s(t.title)}})]),s("div",{staticClass:"set_des"},[t.subTitle?s("span",{staticClass:"des_content"}):t._e(),s("i",{staticClass:"icon"})])])},n=[],r={name:"setItem",methods:{routerTo:function(){var t=this;t.path&&t.$router.push({path:"/".concat(t.path)})}},props:{title:{default:function(){return""},type:String},path:{default:function(){return""},type:String},subTitle:{default:function(){return""},type:String}}},i=r,c=(s("deca"),s("5d22")),o=Object(c["a"])(i,a,n,!1,null,"3e3bfcd6",null);e["a"]=o.exports},"0cac":function(t,e,s){},"2c01":function(t,e,s){},"569e":function(t,e,s){"use strict";s("f1bf")},"5b42":function(t,e,s){"use strict";s("6388")},6388:function(t,e,s){},"668b":function(t,e,s){"use strict";s("2c01")},7252:function(t,e,s){},"92d2":function(t,e,s){"use strict";s("0cac")},"972a":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"jd_main"},[s("HeaderBar",{attrs:{title:"个人中心"}}),s("PersonalCard"),s("PersonalInfo"),s("PersonalSet")],1)},n=[],r=(s("6a61"),s("2e91")),i=s("d211"),c=s("49c9"),o=s("ce0e"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"jd_main_personal"},[s("section",{staticClass:"header-module"},[s("router-link",{staticClass:"logo",style:{background:"url('"+(t.user.avatar?t.user.avatar:t.userLogo)+"') no-repeat center/cover"},attrs:{tag:"figure",to:{path:"/editUserInfo"}}}),s("section",{staticClass:"personal-info"},[s("div",{staticClass:"user-name",domProps:{textContent:t._s(t.user.userName)}}),s("div",{staticClass:"user-phone"},[t._v("做真品，更做臻品")])]),s("div",{staticClass:"sign"},[t._v("马上签到")])],1)])},u=[],p=s("cf6b"),d={name:"personalCard",data:function(){return{userLogo:s("b884")}},computed:Object(i["a"])({},Object(p["c"])(["user"]))},f=d,m=(s("5b42"),s("5d22")),h=Object(m["a"])(f,l,u,!1,null,"55b191d6",null),v=h.exports,g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"jd_main_personal_statistics"},[s("h1",{staticClass:"title"},[t._v("操作记录")]),s("section",{staticClass:"jd_statistics"},[s("div",{staticClass:"statistics-item",on:{click:t.goCollect}},[s("span",{staticClass:"statistics-num"},[t._v(t._s(t.collectList.length))]),s("span",{staticClass:"statistics-title"},[t._v("商品收藏")])]),s("div",{staticClass:"statistics-item",on:{click:t.goOrder}},[s("span",{staticClass:"statistics-num"},[t._v(t._s(t.goodList.length))]),s("span",{staticClass:"statistics-title"},[t._v("我的订单")])]),s("div",{staticClass:"statistics-item",on:{click:t.goBrowse}},[s("span",{staticClass:"statistics-num"},[t._v(t._s(t.recordList.length))]),s("span",{staticClass:"statistics-title"},[t._v("足迹")])])])])},b=[],C={name:"statistics",data:function(){return{goodList:[],recordList:[],collectList:[]}},mounted:function(){var t=this;t.getListData(),t.getMyOrderList()},methods:{getMyOrderList:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var a,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=e,s.prev=1,s.next=4,Object(c["y"])(t?Object(i["a"])({pageSize:1e3,pageNum:1},t):{pageSize:1e3,pageNum:1});case 4:n=s.sent,n&&n.rows&&(a.goodList=n.rows,console.log(n)),s.next=11;break;case 8:s.prev=8,s.t0=s["catch"](1),a.Toast(s.t0.msg||"获取订单列表失败");case 11:case"end":return s.stop()}}),s,null,[[1,8]])})))()},getListData:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var s,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t,e.prev=1,e.next=4,Object(c["A"])();case 4:return a=e.sent,e.next=7,Object(c["p"])();case 7:n=e.sent,s.recordList=a.rows,s.collectList=n.rows,e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](1),console.log(e.t0.message||"获取商品数据失败");case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))()},goBrowse:function(){var t=this;t.$router.push({name:"browse"})},goOrder:function(){var t=this;t.$router.push({name:"Order"})},goCollect:function(){console.log("111");var t=this;t.$router.push({name:"collect"})}}},_=C,j=(s("569e"),Object(m["a"])(_,g,b,!1,null,"198a4ef5",null)),O=j.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"personal_set"},[s("SetItem",{staticClass:"order",attrs:{title:"我的订单",path:"order"}}),s("SetItem",{staticClass:"address",attrs:{title:"收获地址",path:"myaddress"}}),s("SetItem",{staticClass:"feedBack",attrs:{title:"用户反馈",path:"feedBack"}}),s("SetItem",{staticClass:"search",attrs:{title:"常见问题",path:"helpCenter"}}),s("SetItem",{staticClass:"set",attrs:{title:"设置",path:"setIndex"}})],1)},w=[],x=s("00c5"),L={name:"set",components:{SetItem:x["a"]}},S=L,P=(s("92d2"),Object(m["a"])(S,k,w,!1,null,"3335d84e",null)),$=P.exports,y={name:"personal",components:{HeaderBar:o["a"],PersonalCard:v,PersonalInfo:O,PersonalSet:$},methods:Object(i["a"])(Object(i["a"])({},Object(p["b"])(["saveUser"])),{},{getUserData:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t,e.prev=1,e.next=4,Object(c["B"])();case 4:a=e.sent,a&&(s.saveUser(a.sysUser),console.log(a)),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),s.Toast(e.t0.message||"获取用户信息失败");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()}}),mounted:function(){var t=this;t.getUserData()}},I=y,B=Object(m["a"])(I,a,n,!1,null,null,null);e["default"]=B.exports},b884:function(t,e,s){t.exports=s.p+"static/img/userLogo.47332739.png"},ce0e:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"jd-header"},[s("span",{staticClass:"jd-header-item return-back",class:{show:t.back},on:{click:function(e){return e.stopPropagation(),t.returnBack(e)}}},[s("i")]),s("span",{staticClass:"jd-header-item",domProps:{textContent:t._s(t.title)}}),s("span",{staticClass:"jd-header-item",domProps:{textContent:t._s(t.subTitle)},on:{click:function(e){return e.stopPropagation(),t.subTitleEvent(e)}}})])},n=[],r={props:{title:{default:function(){return""},type:String},back:{default:function(){return!1},type:Boolean},subTitle:{default:function(){return""},type:String}},methods:{returnBack:function(){var t=this;t.$emit("returnOriginal"),t.$router.back(-1)},subTitleEvent:function(){var t=this;t.$emit("handleEvent")}}},i=r,c=(s("668b"),s("5d22")),o=Object(c["a"])(i,a,n,!1,null,"dbf454be",null);e["a"]=o.exports},deca:function(t,e,s){"use strict";s("7252")},f1bf:function(t,e,s){}}]);
//# sourceMappingURL=Personal.4b5b80fc.js.map